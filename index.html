<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="shortcut icon" href="favicon.png" type="image/png" />
    <link rel="stylesheet" href="index.css" />
    <title>Pricing Toggle</title>
    <script
      src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.0/dist/alpine.min.js"
      defer
    ></script>
  </head>

  <body>
    <div class="wrapper">
      <main x-data="pricing()" class="container">
        <header class="header">
          <h1 class="header__title">Our pricing</h1>

          <div class="actions">
            <button @click="setToAnnualyPlan()" class="actions__button">
              Annualy
            </button>

            <button
              @click="togglePlan()"
              class="actions__toggle"
              :class="{ 'actions__toggle--active' : isMonthly() }"
            ></button>

            <button @click="setToMonthlyPlan()" class="actions__button">
              Monthly
            </button>
          </div>
        </header>

        <section class="pricing">
          <template x-for="(plan, index) in plans" :key="plan">
            <article
              class="pricing__card"
              :class="{
                'pricing__card--left' : index === 0,
                'pricing__card--featured' : index === 1,
                'pricing__card--right' : index === 2
              }"
            >
              <h2 x-text="plan.title" class="pricing__title"></h2>

              <p class="price">
                <span class="price__sign">$</span>
                <span
                  x-text="[ isMonthly() ? plan.monthly : plan.annualy ]"
                  class="price__value"
                ></span>
              </p>

              <ul class="feats">
                <li
                  x-text="[ `${plan.features.storage} storage` ]"
                  class="feats__item"
                ></li>
                <li
                  x-text="[ `${plan.features.users} users allowed` ]"
                  class="feats__item"
                ></li>
                <li
                  x-text="[ `Send up to ${plan.features.upload}` ]"
                  class="feats__item"
                ></li>
              </ul>

              <button class="feats__cta">Learn more</button>
            </article>
          </template>
        </section>

        <script>
          function pricing() {
            return {
              monthly: true,
              plans: [
                {
                  title: 'Basic',
                  monthly: 19.99,
                  annualy: 199.99,
                  features: {
                    storage: '500 GB',
                    users: 2,
                    upload: '3 GB',
                  },
                },
                {
                  title: 'Professional',
                  monthly: 24.99,
                  annualy: 249.99,
                  features: {
                    storage: '1 TB',
                    users: 5,
                    upload: '10 GB',
                  },
                },
                {
                  title: 'Master',
                  monthly: 39.99,
                  annualy: 399.99,
                  features: {
                    storage: '2 TB',
                    users: 1,
                    upload: '120 GB',
                  },
                },
              ],
              setToMonthlyPlan() {
                this.monthly = true
              },
              setToAnnualyPlan() {
                this.monthly = false
              },
              togglePlan() {
                this.monthly = !this.monthly
              },
              isMonthly() {
                return this.monthly
              },
            }
          }
        </script>
      </main>
    </div>
  </body>
</html>
